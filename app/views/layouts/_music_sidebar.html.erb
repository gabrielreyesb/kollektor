<!-- Main Navigation -->
<div class="sidebar-content">
  <ul class="nav flex-column">
    <li style="width: 100%; padding: 0.6rem 0.75rem;">
      <div class="form-group">
        <div class="position-relative">
          <i class="bi bi-music-note-list position-absolute" style="left: 12px; top: 50%; transform: translateY(-50%); z-index: 2;"></i>
          <select class="form-select sidebar-select"
                  style="padding-left: 35px;"
                  data-controller="filter"
                  data-action="change->filter#filterChanged"
                  data-filter-filter-type-value="genre_id">
            <option value="">All Genres</option>
            <%= options_from_collection_for_select(@genres, :id, :name, params[:genre_id]) %>
          </select>
        </div>
      </div>
    </li>
    <li style="width: 100%; padding: 0.6rem 0.75rem;">
      <div class="form-group">
        <div class="position-relative">
          <i class="bi bi-person position-absolute" style="left: 12px; top: 50%; transform: translateY(-50%); z-index: 2;"></i>
          <select class="form-select sidebar-select"
                  style="padding-left: 35px;"
                  data-controller="filter"
                  data-action="change->filter#filterChanged"
                  data-filter-filter-type-value="author_id">
            <option value="">All Authors</option>
            <%= options_from_collection_for_select(@authors, :id, :name, params[:author_id]) %>
          </select>
        </div>
      </div>
    </li>
    <li style="width: 100%; padding: 0.6rem 0.75rem;">
      <div class="form-group">
        <div class="position-relative">
          <i class="bi bi-disc position-absolute" style="left: 12px; top: 50%; transform: translateY(-50%); z-index: 2;"></i>
          <%= select_tag :album_id,
              options_for_select([
                ["All Albums", ""],
                *@albums_for_filter.map { |a| [a.name, a.id] }
              ], params[:album_id]),
              class: "form-select sidebar-select",
              style: "padding-left: 35px;",
              data: {
                controller: "filter",
                action: "change->filter#filterChanged",
                filter_filter_type_value: "album_id"
              } %>
        </div>
      </div>
    </li>
  </ul>
</div>

<!-- Management Section at Bottom -->
<div class="sidebar-footer">
  <ul class="nav flex-column">
    <li class="nav-item">
      <%= link_to statistics_path,
          class: "nav-link",
          style: "color: white; padding: 0.6rem 0.75rem; display: block; text-decoration: none; #{current_page?(statistics_path) ? 'background: rgba(255, 255, 255, 0.2);' : ''}" do %>
        <i class="bi bi-graph-up me-2"></i>Statistics
      <% end %>
    </li>
    <li class="nav-item">
      <a href="#"
         class="nav-link"
         data-bs-toggle="modal"
         data-bs-target="#suggestionsModal"
         style="color: white; padding: 0.6rem 0.75rem; display: block; text-decoration: none;">
        <i class="bi bi-lightbulb me-2"></i>Get Suggestions
      </a>
    </li>
    <hr>
    <li class="nav-item">
      <%= link_to genres_path,
          class: "nav-link",
          style: "color: white; padding: 0.6rem 0.75rem; display: block; text-decoration: none; #{current_page?(genres_path) ? 'background: rgba(255, 255, 255, 0.2);' : ''}" do %>
        <i class="bi bi-music-note-list me-2"></i>Manage Genres
      <% end %>
    </li>
    <li class="nav-item">
      <%= link_to authors_path,
          class: "nav-link",
          style: "color: white; padding: 0.6rem 0.75rem; display: block; text-decoration: none; #{current_page?(authors_path) ? 'background: rgba(255, 255, 255, 0.2);' : ''}" do %>
        <i class="bi bi-person me-2"></i>Manage Authors
      <% end %>
    </li>
    <li class="nav-item">
      <%= link_to albums_path,
          class: "nav-link",
          style: "color: white; padding: 0.6rem 0.75rem; display: block; text-decoration: none; #{current_page?(albums_path) ? 'background: rgba(255, 255, 255, 0.2);' : ''}" do %>
        <i class="bi bi-disc me-2"></i>Manage Albums
      <% end %>
    </li>
    <li class="nav-item">
      <%= link_to countries_path,
          class: "nav-link",
          style: "color: white; padding: 0.6rem 0.75rem; display: block; text-decoration: none; #{current_page?(countries_path) ? 'background: rgba(255, 255, 255, 0.2);' : ''}" do %>
        <i class="bi bi-globe me-2"></i>Manage Countries
      <% end %>
    </li>
  </ul>
</div> 